# TripRadar Server - API Endpoints –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ—Å—Ç–∏

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫)

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

```http
‚úÖ POST /api/v1/users                     # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚úÖ GET  /api/v1/users/confirm-email       # API –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email (–≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)
```

### –ë–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

```http
‚úÖ POST /api/v1/tokens/sessions           # –õ–æ–≥–∏–Ω
‚úÖ POST /api/v1/tokens/refresh-tokens     # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
```

### –¢–∞—Ä–∏—Ñ—ã (–ø—É–±–ª–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)

```http
‚úÖ GET  /api/v1/payments/prices           # –°–ø–∏—Å–æ–∫ —Ç–∞—Ä–∏—Ñ–æ–≤
```

---

## üü† –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–Ω—É–∂–Ω–æ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º

```http
GET  /api/v1/users/{username}/profile     # –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è
PUT  /api/v1/users/{username}/profile     # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
GET  /api/v1/users/{username}/tier-usage  # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è

```http
POST /api/v1/users/forgot-password     # –ó–∞–±—ã–ª –ø–∞—Ä–æ–ª—å
POST /api/v1/users/reset-password      # –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
```

### –ü–æ–¥–ø–∏—Å–∫–∏ –∏ –ø–ª–∞—Ç–µ–∂–∏

```http
POST /api/v1/payments/users/{username}/create-subscription-checkout  # –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
POST /api/v1/payments/users/{username}/cancel-subscription           # –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏
```

---

## üü° –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (—É–ª—É—á—à–∞–µ—Ç UX)

### Google OAuth

```http
‚úÖ POST /api/v1/tokens/sessions/google    # Google –ª–æ–≥–∏–Ω
```

### –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤

```http
GET /api/v1/payments/users/{username}/overage-usage  # –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤
```

### –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```http
GET /api/v1/preferences/types              # –î–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
GET /api/v1/preferences/users/{username}   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
PUT /api/v1/preferences/users/{username}   # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
```

---

## üü¢ –ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ)

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```http
GET /api/v1/preferences/types/{serviceType}  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —Å–µ—Ä–≤–∏—Å—É
```

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

```http
GET  /api/v1/feedbacks/categories          # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ç–∑—ã–≤–æ–≤
POST /api/v1/feedbacks/users/{username}    # –°–æ–∑–¥–∞—Ç—å –æ—Ç–∑—ã–≤
GET  /api/v1/feedbacks/users/{username}    # –û—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

---

## üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### –ù–µ–¥–µ–ª—è 1 (MVP –º–∏–Ω–∏–º—É–º) - ‚úÖ –ì–û–¢–û–í–û

- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è + –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email
- ‚úÖ –õ–æ–≥–∏–Ω + refresh —Ç–æ–∫–µ–Ω—ã
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞—Ä–∏—Ñ–æ–≤
- ‚úÖ Google OAuth

### –ù–µ–¥–µ–ª—è 2 (–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π MVP) - üîÑ –í –†–ê–ë–û–¢–ï

- üîÑ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- üîÑ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- üîÑ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

### –ù–µ–¥–µ–ª—è 3 (–£–ª—É—á—à–µ–Ω–∏—è) - ‚è≥ –ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø

- ‚úÖ Google OAuth (—É–∂–µ –≥–æ—Ç–æ–≤)
- ‚è≥ –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- ‚è≥ –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ù–µ–¥–µ–ª—è 4+ (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)

- ‚úÖ –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–ë–µ–∑ —ç—Ç–∏—Ö endpoints –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

1. ‚úÖ `POST /api/v1/users` - –Ω–µ–ª—å–∑—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
2. ‚úÖ `GET /api/v1/users/confirm-email` - –Ω–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
3. ‚úÖ `POST /api/v1/tokens/sessions` - –Ω–µ–ª—å–∑—è –≤–æ–π—Ç–∏
4. ‚úÖ `GET /api/v1/payments/prices` - –Ω–µ–ª—å–∑—è —É–≤–∏–¥–µ—Ç—å —Ç–∞—Ä–∏—Ñ—ã

**‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ endpoints –≥–æ—Ç–æ–≤—ã! –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.**
